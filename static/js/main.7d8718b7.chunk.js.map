{"version":3,"sources":["Components/Footer.js","Components/Header.js","Reducer/reducer.js","Context/context.js","Components/Alert.js","Components/BasketItem.js","Components/BasketList.js","Components/Cart.js","Components/TagsRarity.js","Components/GoodsItem.js","Components/GoodsList.js","Components/Preloader.js","Components/Shop.js","config.js","App.js","index.js"],"names":["Footer","className","id","Date","getFullYear","href","target","rel","Header","onClick","e","preventDefault","reducer","state","type","payload","goods","loading","itemIndex","order","findIndex","orderItem","price","newOrder","newItem","quantity","localStorage","setItem","JSON","stringify","map","index","alertName","name","now","document","querySelector","classList","remove","newOrderLS","parse","getItem","filter","item","sign","alert","isBasketShow","slice","ShopContext","createContext","initialState","ContextProvider","children","useReducer","value","dispatch","closeAlert","addToBasket","removeFromBasket","add","setTimeout","changeQuantity","handleBasketShow","setGoods","data","Provider","Alert","useContext","toastOut","useRef","timerId","ww","window","innerWidth","useEffect","length","current","clearTimeout","t","ind","style","top","BasketItem","data-basketid","BasketList","totalPrice","reduce","sum","el","String","Cart","TagsRarity","rarity","Uncommon","color","Rare","Epic","Legendary","GoodsItem","props","desc","img","defaultImg","Math","floor","random","src","alt","onError","fontWeight","marginBottom","fontSize","GoodsList","granted","i","description","finalPrice","images","full_background","Preloader","Shop","push","fetch","headers","process","then","response","ok","json","Promise","reject","shop","catch","error","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7d8718b7.chunk.js","sourcesContent":["const Footer = () => {\r\n    return (\r\n        <footer className=\"page-footer light-blue accent-1\" id=\"keks\">\r\n            <div className=\"footer-copyright\">\r\n                <div className=\"container\">\r\n                    © {new Date().getFullYear()} Copyright Text\r\n                    <a className=\"grey-text text-lighten-4 right\" href=\"https://github.com/Ksooft\" target=\"_blank\" rel=\"noopener noreferrer\">Github</a>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","const Header = () => {\r\n\r\n    return (\r\n        <nav className=\"light-blue accent-2\">\r\n            <div className=\"nav-wrapper\">\r\n                <a href=\"/\" className=\"brand-logo\" onClick={e => e.preventDefault()}>Shop</a>\r\n                <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n                    <li><a href=\"https://github.com/Ksooft\" target=\"_blank\" rel=\"noopener noreferrer\">Github</a></li>\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n\r\n    )\r\n}\r\n\r\nexport default Header\r\n","export function reducer(state, {type, payload}) {\r\n    switch (type) {\r\n        case 'SET_GOODS':\r\n            return {\r\n                ...state,\r\n                goods: payload || [],\r\n                loading: false,\r\n            }\r\n\r\n        case 'ADD_TO_BASKET': {\r\n            const itemIndex = state.order.findIndex(orderItem => orderItem.id === payload.id && orderItem.price === payload.price)\r\n\r\n            let newOrder = null\r\n            if (itemIndex < 0) {\r\n                const newItem = {\r\n                    ...payload,\r\n                    quantity: 1\r\n                }\r\n                newOrder = [...state.order, newItem]\r\n                localStorage.setItem('orders', JSON.stringify([...state.order, newItem]))\r\n            } else {\r\n                newOrder = state.order.map((orderItem, index) => {\r\n                    if (itemIndex === index) {\r\n                        return {\r\n                            ...orderItem,\r\n                            quantity: orderItem.quantity + 1\r\n                        }\r\n                    } else {\r\n                        return orderItem\r\n                    }\r\n                })\r\n                localStorage.setItem('orders', JSON.stringify(newOrder))\r\n            }\r\n            return {\r\n                ...state,\r\n                order: newOrder,\r\n                alertName: [...state.alertName, {name: payload.name, id: payload.id + Date.now()}]\r\n            }\r\n        }\r\n\r\n        case 'REMOVE_FROM_BASKET': {\r\n            document.querySelector(`.collection-item[data-basketid=\"${payload.price + payload.quantity + payload.id}\"`).classList.remove('delete')\r\n            const orderFromLS = JSON.parse(localStorage.getItem('orders'))\r\n            // eslint-disable-next-line\r\n            const newOrderLS = orderFromLS.filter(orderItem => orderItem.id !== payload.id || orderItem.id === payload.id && orderItem.price !== payload.price)\r\n            localStorage.setItem('orders', JSON.stringify(newOrderLS))\r\n            // eslint-disable-next-line\r\n            const newOrder = state.order.filter(orderItem => orderItem.id !== payload.id || orderItem.id === payload.id && orderItem.price !== payload.price)\r\n            return {\r\n                ...state,\r\n                order: newOrder\r\n            }\r\n        }\r\n\r\n        case 'CHANGE_QUANTITY': { \r\n            const newOrder = state.order.map(orderItem => {\r\n                if (payload.item.quantity === 1 && payload.sign === '-' && orderItem.id === payload.item.id) {\r\n                    alert('Количество товара не может быть меньше одного')\r\n                    return orderItem\r\n                }\r\n                if (orderItem.id === payload.item.id && orderItem.price === payload.item.price) {\r\n                    return {\r\n                        ...orderItem,\r\n                        quantity: payload.sign === '+' ? orderItem.quantity + 1 : orderItem.quantity - 1\r\n                    }\r\n                }\r\n                return orderItem\r\n            })\r\n            localStorage.setItem('orders', JSON.stringify(newOrder))\r\n            return {\r\n                ...state,\r\n                order: newOrder\r\n            }\r\n        }\r\n\r\n        case 'TOGGLE_BASKET':\r\n            return {\r\n                ...state,\r\n                isBasketShow: !state.isBasketShow\r\n            }\r\n\r\n        case 'CLOSE_ALERT':\r\n            return {\r\n                ...state,\r\n                alertName: state.alertName.slice(1)\r\n            }\r\n            \r\n        default:\r\n            return state;\r\n    }\r\n}","import { createContext, useReducer } from 'react'\r\nimport { reducer } from '../Reducer/reducer'\r\n\r\nexport const ShopContext = createContext()\r\n\r\nconst initialState = {\r\n    goods: [],\r\n    loading: true,\r\n    order: [],\r\n    isBasketShow: false,\r\n    alertName: []\r\n}\r\n\r\nexport const ContextProvider = ({children}) => {\r\n    const [value, dispatch] = useReducer(reducer, initialState)\r\n\r\n    value.closeAlert = () => dispatch({type: 'CLOSE_ALERT'})\r\n\r\n    value.addToBasket = item => dispatch({type: 'ADD_TO_BASKET', payload: item})\r\n\r\n    value.removeFromBasket = item => {\r\n        document.querySelector(`.collection-item[data-basketid=\"${item.price + item.quantity + item.id}\"`).classList.add('delete')\r\n        setTimeout(() => {\r\n            dispatch({type: 'REMOVE_FROM_BASKET', payload: item})\r\n        }, 380);\r\n    }\r\n\r\n    value.changeQuantity = (item, sign) => dispatch({type: 'CHANGE_QUANTITY', payload: {item, sign}})\r\n\r\n    value.handleBasketShow = () => dispatch({type: 'TOGGLE_BASKET'})\r\n\r\n    value.setGoods = data => dispatch({type: 'SET_GOODS', payload: data})\r\n\r\n    return <ShopContext.Provider value={value}>\r\n        {children}\r\n    </ShopContext.Provider>\r\n}\r\n","import { useContext } from 'react'\r\nimport { ShopContext } from '../Context/context'\r\nimport { useEffect, useRef } from 'react'\r\n\r\nconst Alert = () => {\r\n    const { alertName = [], closeAlert } = useContext(ShopContext)\r\n    const toastOut = useRef()\r\n    const timerId = useRef()\r\n    const ww = window.innerWidth\r\n    useEffect(() => {\r\n        if (alertName.length < 5) {\r\n            if (alertName.length > 2) {\r\n            toastOut.current = setTimeout(() => {\r\n                document.querySelector('#toast-container').classList.add('close')\r\n            }, 1300);\r\n            timerId.current = setTimeout(closeAlert, 1500)\r\n            } else {\r\n            toastOut.current = setTimeout(() => {\r\n            document.querySelector('#toast-container').classList.add('close')\r\n            }, 2800);\r\n            timerId.current = setTimeout(closeAlert, 3000)\r\n            }\r\n            \r\n        } else {\r\n            document.querySelector('#toast-container').classList.add('close')\r\n            setTimeout(closeAlert, 200)\r\n        }\r\n        \r\n        return () => {\r\n            clearTimeout(toastOut.current)\r\n            clearTimeout(timerId.current)\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [alertName])\r\n\r\n    \r\n    return (\r\n        <div className=\"toast-block\">\r\n            {alertName.map((t, ind) => <div key={t.id} id=\"toast-container\" style={{top: `${ww <= 400 ? ind * 80 : ind * 60}px`}}>\r\n                    <div className=\"toast\">{t.name} добавлен в корзину!</div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Alert\r\n","import { useContext } from 'react'\r\nimport { ShopContext } from '../Context/context'\r\n\r\nconst BasketItem = ({ id, name, price, quantity, }) => {\r\n    const { removeFromBasket, changeQuantity } = useContext(ShopContext)\r\n\r\n    return (\r\n        <li className=\"collection-item\" data-basketid={price + quantity + id}>\r\n            {name} <i className=\"material-icons basket-quantity red-text\" onClick={() => changeQuantity({ id, price, quantity }, '-')}>remove</i>{' '}\r\n                x{quantity} <i className=\"material-icons basket-quantity green-text\" onClick={() => changeQuantity({ id, price, quantity }, '+')}>add</i> = {price * quantity} \r\n            <span className=\"secondary-content\" onClick={() => removeFromBasket({id, price, quantity})}>\r\n                <i className=\"material-icons\">close</i>\r\n            </span>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default BasketItem\r\n","import { useContext } from 'react'\r\nimport { ShopContext } from '../Context/context'\r\nimport BasketItem from './BasketItem'\r\n\r\nconst BasketList = () => {\r\n    const { order = [], isBasketShow, handleBasketShow } = useContext(ShopContext)\r\n    const totalPrice = order.reduce((sum, el) => sum + el.price * el.quantity, 0)\r\n\r\n    const closeBasket = () => {\r\n        document.querySelector('.modal-shop.open').classList.add('close')\r\n        document.querySelector('.modal-shop.open').classList.remove('open')\r\n        setTimeout(() => {\r\n            document.querySelector('.modal-shop .collection').classList.add('hide')\r\n            handleBasketShow()\r\n            setTimeout(() => document.querySelector('.modal-shop .collection').classList.remove('hide'), 350);\r\n        }, 500);\r\n    }\r\n\r\n    return (\r\n        <div className={`modal-shop${isBasketShow ? \" open\" : \"\"}`}>\r\n            <ul className=\"collection\">\r\n                <li className=\"collection-item active\">Корзина <span className=\"secondary-content\" onClick={closeBasket}><i className=\"material-icons\">close</i></span></li>\r\n                {order.length ? order.map((item, index) => <BasketItem key={item.id + String(index)} {...item} />) : <li className=\"collection-item\">Корзина пуста</li>}\r\n                <li className=\"collection-item active\">Общая стоимость: {totalPrice}</li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BasketList\r\n","import { useContext } from 'react'\r\nimport { ShopContext } from '../Context/context'\r\n\r\nconst Cart = () => {\r\n    const { order, handleBasketShow } = useContext(ShopContext)\r\n    return (\r\n        <div className=\"cart light-blue accent-2 white-text\" onClick={handleBasketShow}>\r\n            <i className=\"material-icons\">shopping_cart</i>\r\n            { order.length ? <span className=\"cart-quantity\">{order.length}</span> : '' }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cart\r\n","const TagsRarity = ({ rarity }) => { // Epic, Uncommon, Rare, Legendary\r\n    const value = {\r\n        Uncommon: { name: 'Необычный', color: 'green' },\r\n        Rare: { name: 'Редкий', color: 'blue darken-4' },\r\n        Epic: { name: 'Эпический', color: 'purple' },\r\n        Legendary: { name: 'Легендарный', color: 'orange' }\r\n    }\r\n    return (\r\n        <div className={`chip right card-rarity ${value[rarity].color}`}>\r\n            {value[rarity].name}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TagsRarity\r\n","import { useContext } from 'react'\r\nimport { ShopContext } from '../Context/context'\r\nimport TagsRarity from './TagsRarity'\r\n\r\nconst GoodsItem = (props) => {\r\n    const {desc, name, id, price, img, rarity} = props\r\n    const {addToBasket} = useContext(ShopContext)\r\n    const colors = ['3D217A', 'F04482', 'BFA499', 'C27643', '91C0CB', '82CD99', 'F57A16', '6B566B', '0FD1E6', '6AFC17', 'C1BE3A', 'FCF9A4', '002FB1', 'F57060', '8184E6']\r\n    const randomColors = () => Math.floor(0 + Math.random() * (14 + 1 - 0))\r\n    const defaultImg = `https://dummyimage.com/1024/${colors[randomColors()]}/ffffff.png&text=${name}`\r\n\r\n    return (\r\n        <div className=\"card\" id={id}>\r\n            <div className=\"card-image\">\r\n                <img src={img} alt={name} onError={e => e.target.src = defaultImg} />\r\n            </div>\r\n            <div className=\"card-content\">\r\n                <span className=\"card-title\" style={{ fontWeight: 400}}>{name}</span>\r\n                <p style={{marginBottom: '15px'}}>{desc}</p>\r\n                <TagsRarity rarity={rarity} />\r\n            </div>\r\n            <div className=\"card-action\">\r\n                <button className=\"btn\" onClick={() => addToBasket({id, name, price})}>Купить</button>\r\n                <span className=\"right\" style={{ fontSize: '1.8rem' }}>{price} руб.</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GoodsItem\r\n","import { useContext } from 'react'\r\nimport { ShopContext } from '../Context/context'\r\nimport GoodsItem from './GoodsItem'\r\n\r\nconst GoodsList = () => {\r\n    const { goods = [] } = useContext(ShopContext)\r\n\r\n    if (!goods.length) {\r\n        return <h2 className=\"red-text\">Nothing found!</h2>\r\n    }\r\n\r\n    return (\r\n        <div className=\"goods\">\r\n            {goods.map(item => item.granted.map(i => <GoodsItem key={i.id} desc={i.description}\r\n                    name={i.name} id={i.id} price={item.price.finalPrice}\r\n                    img={i.images.full_background} rarity={i.rarity.id} /> ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GoodsList\r\n","const Preloader = () => {\r\n    return (\r\n        <div className=\"progress light-blue lighten-4\">\r\n            <div className=\"indeterminate light-blue accent-2\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader\r\n","import { useEffect, useContext } from 'react'\r\nimport { API_KEY, API_URL } from '../config'\r\n\r\nimport { ShopContext } from '../Context/context'\r\n\r\nimport Alert from './Alert'\r\nimport BasketList from './BasketList'\r\nimport Cart from './Cart'\r\nimport GoodsList from './GoodsList'\r\nimport Preloader from './Preloader'\r\n\r\nconst Shop = () => {\r\n    const {setGoods, loading, order, alertName} = useContext(ShopContext)\r\n\r\n    // const [loading, setLoading] = useState(true)\r\n    // const [order, setOrder] = useState([])\r\n    // const [isBasketShow, setBasketShow] = useState(false)\r\n    // const [alertName, setAlertName] = useState([])\r\n\r\n    // const addToBasket = item => {\r\n    //     const itemIndex = order.findIndex(orderItem => orderItem.id === item.id && orderItem.price === item.price)\r\n\r\n    //     if (itemIndex < 0) {\r\n    //         const newItem = {\r\n    //             ...item,\r\n    //             quantity: 1\r\n    //         }\r\n    //         setOrder([...order, newItem])\r\n    //         localStorage.setItem('orders', JSON.stringify([...order, newItem]))\r\n    //     } else {\r\n    //         const newOrder = order.map((orderItem, index) => {\r\n    //             if (itemIndex === index) {\r\n    //                 return {\r\n    //                     ...orderItem,\r\n    //                     quantity: orderItem.quantity + 1\r\n    //                 }\r\n    //             } else {\r\n    //                 return orderItem\r\n    //             }\r\n    //         })\r\n    //         setOrder(newOrder)\r\n    //         localStorage.setItem('orders', JSON.stringify(newOrder))\r\n    //     }\r\n        \r\n    //     setAlertName([...alertName, {name: item.name, id: item.id + Date.now()}])\r\n    // }\r\n\r\n    // const removeFromBasket = item => {\r\n    //     setTimeout(() => {\r\n    //         document.querySelector(`.collection-item[data-basketid=\"${item.price + item.quantity + item.id}\"`).classList.remove('delete')\r\n    //         // eslint-disable-next-line\r\n    //         setOrder(order.filter(orderItem => orderItem.id !== item.id || orderItem.id === item.id && orderItem.price !== item.price))\r\n    //         const orderFromLS = JSON.parse(localStorage.getItem('orders'))\r\n    //         // eslint-disable-next-line\r\n    //         const newOrderLS = orderFromLS.filter(orderItem => orderItem.id !== item.id || orderItem.id === item.id && orderItem.price !== item.price)\r\n    //         localStorage.setItem('orders', JSON.stringify(newOrderLS))\r\n    //     }, 400);\r\n    //     document.querySelector(`.collection-item[data-basketid=\"${item.price + item.quantity + item.id}\"`).classList.add('delete')\r\n    // }\r\n\r\n    // const handleBasketShow = () => setBasketShow(!isBasketShow)\r\n\r\n    // const changeQuantity = (item, sign) => {\r\n    //     const newOrder = order.map(orderItem => {\r\n    //         if (item.quantity === 1 && sign === '-' && orderItem.id === item.id) {\r\n    //             alert('Количество товара не может быть меньше одного')\r\n    //             return orderItem\r\n    //         }\r\n    //         if (orderItem.id === item.id && orderItem.price === item.price) {\r\n    //             return {\r\n    //                 ...orderItem,\r\n    //                 quantity: sign === '+' ? orderItem.quantity + 1 : orderItem.quantity - 1\r\n    //             }\r\n    //         }\r\n    //         return orderItem\r\n    //     })\r\n    //     setOrder(newOrder)\r\n    //     localStorage.setItem('orders', JSON.stringify(newOrder))\r\n    // }\r\n\r\n    // const closeAlert = () => setAlertName(alertName.slice(1))\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem('orders')) {\r\n            order.push(...JSON.parse(localStorage.getItem('orders')))\r\n        }\r\n        fetch(API_URL, {\r\n            headers: {\r\n                'Authorization': API_KEY\r\n            }\r\n        })\r\n            .then(response => response.ok ? response.json() : Promise.reject(response))\r\n            .then(data => setGoods(data.shop))\r\n            .catch(error => alert(error))\r\n            // eslint-disable-next-line\r\n    }, [])\r\n\r\n    return (\r\n        <main className=\"container content\">\r\n            <Cart />\r\n            { loading ? <Preloader /> : <GoodsList /> }\r\n            <BasketList />\r\n            {alertName.length ? <Alert /> : ''}\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Shop\r\n","const API_KEY = process.env.REACT_APP_API_KEY\r\n\r\nconst API_URL = 'https://fortniteapi.io/v2/shop?lang=ru'\r\n\r\nexport {\r\n    API_KEY,\r\n    API_URL\r\n}","import './App.css'\nimport Footer from './Components/Footer'\nimport Header from './Components/Header'\nimport Shop from './Components/Shop';\n\nimport { ContextProvider} from './Context/context'\n\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <ContextProvider>\n        <Shop />\n      </ContextProvider>\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}